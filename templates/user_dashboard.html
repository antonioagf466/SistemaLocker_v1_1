<!DOCTYPE html>
<html>
<head>
    <title>Dashboard do Usuário</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>Bem-vindo, {{ user.get_nome() }}</h1>
        
        <nav class="menu-grid">
            <ul class="menu-list">
            <li class="menu-item" onclick="handleUserAction('reservar_locker')">
                <span>1. Reservar Locker</span>
                <p>Reserve um locker disponível</p>
            </li>
            
            <li class="menu-item" onclick="handleUserAction('liberar_locker')">
                <span>2. Liberar Locker</span>
                <p>Libere seu locker atual</p>
            </li>

            <li class="menu-item" onclick="handleUserAction('ver_locker')">
                <span>3. Ver Meu Locker</span>
                <p>Veja detalhes do seu locker</p>
            </li>

            <li class="menu-item" onclick="handleUserAction('ver_historico')">
                <span>4. Ver Histórico</span>
                <p>Veja seu histórico de reservas</p>
            </li>

            <li class="menu-item" onclick="handleUserAction('alterar_senha')">
                <span>5. Alterar Senha</span>
                <p>Altere sua senha</p>
            </li>
            <li id="logout" class="menu-item" onclick="window.location.href='{{ url_for('logout') }}'">
            <span>6. Sair</span>
            <p>Encerrar sessão</p>
        </li>
            </ul>
        </nav>

        <div id="resultArea" class="result-area" style="display:none;">
            <div class="result-content"></div>
            <button id="button-fechar" onclick="closeResult()">Fechar</button>
        </div>
    </div>

    <script>
        function handleUserAction(action) {
            $.post('/user/action', {
                action: action
            }, function(response) {
                $('#resultArea').show();
                $('#resultArea .result-content').html(response.html);
            });
        }

        function closeResult() {
            $('#resultArea').hide();
        }
    </script>
</body>
</html>